@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.scheme-light-dark *));

@theme {
	/* Background Colors — Signet Iroshizuku palette */
	--color-background-inverse: light-dark(#2d2926, #E8E4DE);
	--background-color-inverse: var(--color-background-inverse);
	--color-background-primary: light-dark(#faf7f2, #1C1A18);
	--background-color-primary: var(--color-background-primary);
	--color-background-surface: light-dark(#f5f1ea, #262320);
	--background-color-surface: var(--color-background-surface);
	--color-background-alt: light-dark(#f0ece5, #211f1c);
	--background-alt: var(--color-background-alt);
	--color-frame-background: light-dark(#f5f1ea, #262320);
	--frame-background: var(--color-frame-background);
	--color-system-background: light-dark(#faf7f2, #1C1A18);
	--system-background: var(--color-system-background);
	--color-inverse: var(--color-background-inverse);
	--color-system: var(--color-system-background);
	--color-surface: var(--color-background-surface);
	--color-alt: var(--color-background-alt);
	--color-frame: var(--color-frame-background);

	/* Content/Text Colors — Ink tones */
	--color-content-primary: light-dark(#2d2926, #E8E4DE);
	--content-primary: var(--color-content-primary);
	--color-content-secondary: light-dark(#7c756c, #ada69c);
	--content-secondary: var(--color-content-secondary);
	--color-content-tertiary: light-dark(#ada69c, #7c756c);
	--content-tertiary: var(--color-content-tertiary);
	--color-content-positive: light-dark(#5b8a5b, #6fa06f);
	--content-positive: var(--color-content-positive);
	--color-content-negative: light-dark(#b85450, #d4706c);
	--content-negative: var(--color-content-negative);
	--color-content-disabled: light-dark(#d6d0c7, #4a4541);
	--content-disabled: var(--color-content-disabled);
	--color-label-primary: light-dark(#2d2926, #E8E4DE);
	--label-primary: var(--color-label-primary);
	--color-content-inverse: light-dark(#E8E4DE, #2d2926);
	--content-inverse: var(--color-content-inverse);
	--color-primary: var(--color-content-primary);
	--color-secondary: var(--color-content-secondary);
	--color-tertiary: var(--color-content-tertiary);
	--color-positive: var(--color-content-positive);
	--color-negative: var(--color-content-negative);
	--color-disabled: var(--color-content-disabled);
	--color-content-dimmed: light-dark(#ada69c, #4a4541);

	/* Accent & Interactive — Kin (gold) */
	--color-accent: light-dark(#d4a929, #d4a929);
	--accent: var(--color-accent);
	--color-accent-hover: light-dark(#c49b24, #e0b94a);
	--accent-hover: var(--color-accent-hover);
	--color-focus: var(--color-accent);

	/* Border Colors — Rule (warm) */
	--color-border-primary: light-dark(#e3ded5, #3a3633);
	--border-primary: var(--color-border-primary);
	--color-border-secondary: light-dark(#ede9e1, #2e2b28);
	--border-secondary: var(--color-border-secondary);
	--color-border-tertiary: light-dark(#d6d0c7, #4a4541);
	--border-tertiary: var(--color-border-tertiary);
	--color-border-negative: light-dark(#b85450, #d4706c);
	--border-negative: var(--color-border-negative);

	/* Outline Colors */
	--color-outline-primary: light-dark(#e3ded5, #3a3633);
	--outline-primary: var(--color-outline-primary);
	--color-outline-secondary: light-dark(#ede9e1, #2e2b28);
	--outline-secondary: var(--color-outline-secondary);
	--color-outline-negative: light-dark(#b85450, #d4706c);
	--outline-negative: var(--color-outline-negative);

	/* Field Colors */
	--color-field-content-secondary: light-dark(#ada69c, #7c756c);
	--field-content-secondary: var(--color-field-content-secondary);

	/* Outline Colors */
	--color-outline-inverse: light-dark(#2d2926, #E8E4DE);
	--outline-color-inverse: var(--color-outline-inverse);

	/* Solid Colors */
	--color-solid-gray-3: light-dark(#f0ece5, #3a3633);
	--solid-gray-3: var(--color-solid-gray-3);

	/* Tokenized Color Pairings */
	--color-black-white: light-dark(#2d2926, #E8E4DE);
	--color-white-black: light-dark(#E8E4DE, #2d2926);

	/* Card */
	--color-card: light-dark(#f5f1ea, #262320);
	--color-card-header: light-dark(#f5f1ea, #211f1c);
	--color-card-border: light-dark(#e3ded5, #3a3633);

	/* Other Colors */
	--color-base-background: light-dark(#faf7f2, #1C1A18);
	--color-base-plane: light-dark(#faf7f2, #262320);
	--color-base-plane-background: light-dark(#f5f1ea, #262320);
	--color-base-plane-interactive: light-dark(#f0ece5, #2e2b28);
	--color-base-alt: light-dark(#e3ded5, #3a3633);
	--color-base-border: light-dark(#e3ded5, #3a3633);
	--color-base-content: light-dark(#2d2926, #E8E4DE);
	--color-base-content-secondary: light-dark(#7c756c, #ada69c);
	--color-base-content-positive: light-dark(#5b8a5b, #6fa06f);
	--color-base-content-negative: light-dark(#b85450, #d4706c);
	--color-distinct: light-dark(#e3ded5, #3a3633);
	--color-warning: light-dark(#d4a929, #8f6424);
	--color-warning-background: light-dark(#fdf5c2, #2d2518);

	--font-display: "New York", "Iowan Old Style", Palatino, Georgia, serif;
	--font-mono: "SF Mono", ui-monospace, "Cascadia Code", "Fira Code", monospace;
}

html,
:host {
	background-color: var(--color-base-background);
	color: var(--color-primary);
	color-scheme: light dark;
}

:root {
	touch-action: manipulation;
}

@layer base {
	html {
		color-scheme: light dark;
	}
}

body {
	font-family: var(--font-display);
	@apply text-base;
	min-width: 400px;
}

pre {
	font-family: var(--font-mono);
}

a:focus-visible,
button:focus-visible {
	outline: 2px solid var(--color-focus);
	outline-offset: 2px;
}

input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
	@apply appearance-none;
}

input[type="number"] {
	appearance: textfield;
}

@utility text-md {
	font-size: 16px;
	line-height: 1.25rem;
}

@utility size-max {
	width: 100%;
	height: 100%;
}

@utility min-size-max {
	min-width: 100%;
	min-height: 100%;
}

@utility max-size-max {
	max-width: 100%;
	max-height: 100%;
}

@utility size-auto {
	width: auto;
	height: auto;
}

@utility min-size-auto {
	min-width: auto;
	min-height: auto;
}

@utility max-size-auto {
	max-width: auto;
	max-height: auto;
}

@utility min-size-screen {
	min-width: 100vw;
	min-height: 100vh;
}

@utility max-size-screen {
	max-width: 100vw;
	max-height: 100vh;
}

@utility font-bolder {
	font-weight: 750;
}

@utility no-scrollbar {
	-ms-overflow-style: none;
	scrollbar-width: none;

	&::-webkit-scrollbar {
		display: none;
	}
}

@utility press-down {
	&:active:not([aria-disabled="true"]) {
		transform: translateY(0.5px);
	}
}

@utility press-down-inline {
	&:active:not([aria-disabled="true"]) {
		position: relative;
		top: 0.5px;
	}
}

@utility press-down-mini {
	&:active:not([aria-disabled="true"]) {
		transform: translateY(0.1px);
	}
}

@utility scrollbar-gutter-stable {
	scrollbar-gutter: stable;
}

@keyframes progressline {
	0% {
		width: 0%;
	}
	50% {
		width: 70%;
	}
	100% {
		width: 100%;
		opacity: 0;
	}
}

/* pre.shiki, div.shiki {
	counter-reset: codeblock-line;

	.line {
		counter-increment: codeblock-line;
		&::before {
			content: counter(codeblock-line) " ";
			@apply font-light text-tertiary/40 text-xs inline-block w-[20px] text-right ml-[-14px] mr-[12px];
		}
	}
} */

.shiki-block,
.shiki-block.shiki {
	@apply bg-card-header px-4!;
	max-height: 320px;
	overflow: auto;
	margin: 0;
	padding-inline: unset;
	margin-bottom: 8px;
	box-sizing: border-box;
	font-size: 13.5px;
	line-height: 20px;
}

.shiki-block code {
	font-family: inherit;
	@apply bg-card-header!;
}

pre .shiki,
.shiki pre {
	@apply bg-card-header!;
}
